<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Key-configuration &ndash; Runar Kristoffersen</title>
  <meta name="description" content="This is my third post in the series concerning keyboards and increasing the productivity with them. If you haven’t read the others yet, here are some links t...">
  <link href="https://fonts.googleapis.com/css?family=Josefin+Slab:400|Raleway" rel="stylesheet">
  <script src="https://use.fontawesome.com/ca91c8db6c.js"></script>


  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/hardware/2017/04/08/Karabiner.html">
  <link rel="alternate" type="application/rss+xml" title="Runar Kristoffersen" href="/feed.xml">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="theme-color" content="#ffffff">

  
</head>


  <body>

    <!DOCTYPE html>
<header class="site-header" role="banner">

    <div class="header-wrapper">

        <div class="wrapper">
            <a class="site-title logo" href="/">
                <!-- Runar Kristoffersen -->
                <img class="logo" src="/images/fixed/RK-wide.svg" alt="Logo">
            </a>
        </div>

        <nav>
            <div class="trigger">
                <div class="wrapper">
                    
                    
                        
                    
                        
                    
                        
                    
                        
                            
                            
                            <a class="page-link " href="/">Home</a>
                        
                    
                        
                            
                            
                            <a class="page-link " href="/portfolio/">Portfolio</a>
                        
                    
                        
                            
                            
                            <a class="page-link " href="/about/">About</a>
                        
                    
                </div>
            </div>
        </nav>

    </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Key-configuration</h1>
    <pdivclass="post-meta"><time datetime="2017-04-08T12:47:20+02:00" itemprop="datePublished">Apr 8, 2017</time>
    <!-- Tags -->
    <ul class="tags">
    
    Tags:
    
      <li><a href="/tags#hardware" class="tag">hardware</a></li>
    
      <li><a href="/tags#keyboard" class="tag">keyboard</a></li>
    
      <li><a href="/tags#productivity" class="tag">productivity</a></li>
    
      <li><a href="/tags#tips" class="tag">tips</a></li>
    
    
    </ul>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>This is my third post in the series concerning keyboards and increasing the productivity with them. If you haven’t read the others yet, here are some links to them:</p>

<ul>
  <li><a href="/hardware/2017/03/14/Advantage.html">The weird and productive keyboard</a>, my recommended keyboard for anybody wanting to increase their productivity, comfort level, or simply how to write the correct way.</li>
  <li><a href="/hardware/2017/03/16/Key-modifications.html">Keyboard remapping gone mad</a>, a post going through some ideas for how the keyboard can be remapped to get more functionality while at the same time avoiding painful key-combinations.</li>
</ul>

<h2 id="video-showcasing-some-of-the-remappings">Video showcasing some of the remappings</h2>

<video width="960" controls="">
  <source src="/media/karabiner.mp4" type="video/mp4" />
  <source src="/media/karabiner.webm" type="video/mp4" />
Your browser does not support the video tag.
</video>

<p>In this post, I will dive into the technical aspect of how to remap the keyboard. Many software lets you do this, but most will not do this at a low enough level to actually remap the keys. Some just try it’s best to cancel out the effect of the key you want it to remap, and then emulating the target key.</p>

<h2 id="karabiner-to-the-rescue">Karabiner to the rescue</h2>

<p>As a disclaimer, I would just like to point out that I am not sponsored or in any way involved with Karabiner. I simply recommend it, as many others do.</p>

<p>Karabiner has a history of doing this remapping at the level we need to do our remapping of the modifier keys, so that the OS doesn’t even see what key you pressed physically, but the key you tell it to see through Karabiner.</p>

<p>What makes Karabiner extra useful, is that you can not only configure it through a graphical user interface, but also by just editing a <code class="highlighter-rouge">.json</code>-file. This is great for those who are used to editing text files, as most developers and programmers are.</p>

<h3 id="macos-sierra">macOS Sierra</h3>

<p>macOS Sierra brought some changes to the generic keyboard and mouse drivers, and this broke earlier versions of Karabiner. Luckily, the developers are currently rewriting Karabiner, which is now called Karabiner Elements, to work with the updated OS.</p>

<p>New features are added quite often, and it is very stable. I have not had a single issue with the program at all.</p>

<blockquote>
  <p>Because Karabiner Elements is not yet released and actively worked on, big changes are happening fast.</p>

  <p>I will keep this page updated as progress continues so that the correct information is always available here.</p>
</blockquote>

<h2 id="downloading-from-the-correct-fork">Downloading from the correct fork</h2>

<p>The community is also constantly working on it, bringing in their favourite features. One of the features we will be needing has not yet been merged into the main repository, but I suspect it will very soon. This feature is the ‘Standalone keys’, which we need to create a <code class="highlighter-rouge">hyper</code>-key, or another modifier key.</p>

<p>The version we need is <a href="https://github.com/wwwjfy/Karabiner-Elements/releases">wwwjfy-s latest release</a></p>

<p>Before we continue, download the latest release(0.92) as of writing, and install it.</p>

<h2 id="configuring-karabiner-elements">Configuring Karabiner-Elements</h2>

<p>Looking back at my previous post about what remapping I wrote that there were a few different kinds of remappings I found the most helpful, and my recommended setup.</p>

<p>Not all features have made it into the GUI yet, so configuring everything requires that we jump into the <code class="highlighter-rouge">.json</code>-file. But don’t worry, the configuration is easy.</p>

<p>You can find the file in <code class="highlighter-rouge">~/.config/karabiner/karabiner.json</code>. Open the file in your favourite editor. For a look at my complete config-file, scroll down to the bottom of this post.</p>

<h3 id="hyper-key">Hyper-key</h3>

<p>To remap the <code class="highlighter-rouge">caps-lock</code> into another working modifier-key, which often is called the <code class="highlighter-rouge">hyper</code>-key, we need to add just a few lines into the config. But as I mentioned, macOS does not have a <code class="highlighter-rouge">hyper</code>-key, so we emulate on with a combination of all modifier keys. That would be <code class="highlighter-rouge">ctrl + shift + option + cmd</code>, a crazy key-combination. I highly doubt you actually are using that, and if you are, please stop it before the pain sets in.</p>

<p>So, to redefine <code class="highlighter-rouge">caps_lock</code> into <code class="highlighter-rouge">hyper</code>, we add this to the config:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="s2">"one_to_many_mappings"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"caps_lock"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"left_control"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"left_shift"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"left_option"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"left_command"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span></code></pre>
</div>

<h2 id="tapping-modifier-key-for-f-key">Tapping modifier-key for F-key</h2>

<p>Tapping a key is different that holding it. Modifier keys are by default only useful for holding and then applying a key-combination. On their own, they do nothing. But we can add functionality when tapping the modifier keys to do something a lot more useful. We can also do combinations, for instance holding <code class="highlighter-rouge">ctrl</code> and tapping <code class="highlighter-rouge">cmd</code>.</p>

<p>The target-keys you need here should be unused keys. My keyboard does not have F-keys beyond F13, so that means I can use these keys are a target. You can, of course, configure this to any key, but really, it should be a key that is not used at all.</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="s2">"standalone_keys"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"left_shift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f12"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"left_command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f13"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"left_option"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f14"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"right_control"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f15"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"right_command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f16"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"right_shift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f17"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"caps_lock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f18"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h2 id="extra-ctrl-and-option-keys">Extra ctrl and option keys</h2>

<p>Since I want extra modifier keys, available on both sides of my keyboard, I did the same technique as for tapping modifier keys but applied it to a regular key.</p>

<p>Tapping <code class="highlighter-rouge">§</code> now behaves as normal, but holding it will now be <code class="highlighter-rouge">ctrl</code>. I also set <code class="highlighter-rouge">]</code> to <code class="highlighter-rouge">option</code>.</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="s2">"simple_modifications"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"close_bracket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"right_alt"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"grave_accent_and_tilde"</span><span class="p">:</span><span class="w"> </span><span class="s2">"left_control"</span><span class="w">
</span><span class="p">}</span><span class="err">,</span><span class="w">
</span><span class="s2">"standalone_keys"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"close_bracket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"close_bracket"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"grave_accent_and_tilde"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grave_accent_and_tilde"</span><span class="p">,</span><span class="w">
</span><span class="err">}</span><span class="w">
</span></code></pre>
</div>

<h2 id="the-full-config">The full config</h2>

<p>This is my whole config-file for Karabiner-Elements. It holds a few more values than what was mentioned above, but I am sure you can figure those out easily.</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"global"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"check_for_updates_on_startup"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"show_in_menu_bar"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"show_profile_name_in_menu_bar"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"profiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"devices"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="nt">"fn_function_keys"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"f1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"display_brightness_decrement"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"f10"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mute"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"f11"</span><span class="p">:</span><span class="w"> </span><span class="s2">"volume_decrement"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"f12"</span><span class="p">:</span><span class="w"> </span><span class="s2">"volume_increment"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"f2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"display_brightness_increment"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"f3"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mission_control"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"f4"</span><span class="p">:</span><span class="w"> </span><span class="s2">"launchpad"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"f5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"illumination_decrement"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"f6"</span><span class="p">:</span><span class="w"> </span><span class="s2">"illumination_increment"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"f7"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rewind"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"f8"</span><span class="p">:</span><span class="w"> </span><span class="s2">"play_or_pause"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"f9"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fastforward"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default profile"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"one_to_many_mappings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"scroll_lock"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"left_control"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"left_shift"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"left_option"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"left_command"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"selected"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"simple_modifications"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"close_bracket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"right_alt"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"grave_accent_and_tilde"</span><span class="p">:</span><span class="w"> </span><span class="s2">"left_control"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"standalone_keys"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"close_bracket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"close_bracket"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"grave_accent_and_tilde"</span><span class="p">:</span><span class="w"> </span><span class="s2">"grave_accent_and_tilde"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"left_shift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f12"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"left_command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f13"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"left_option"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f14"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"right_control"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f15"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"right_command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f16"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"right_shift"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f17"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"scroll_lock"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f18"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"virtual_hid_keyboard"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"caps_lock_delay_milliseconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nt">"keyboard_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"iso"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"standalone_keys_delay_milliseconds"</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

  </div>

  
</article>
<hr>
Share this post:
<div class="social-icons share-buttons">
  <!-- Basic Share Links -->
  
  
  
  <!-- Twitter (url, text, @mention) -->
  <a class="fa fa-twitter-square" href="http://twitter.com/share?url=http://www.runarkristoffersen.com/hardware/2017/04/08/Karabiner.html&text=Key-configuration&via=runartrollet">
  </a>

  <!-- Google Plus (url) -->
  <a class="fa fa-google-plus-square" href="https://plus.google.com/share?url=http://www.runarkristoffersen.com/hardware/2017/04/08/Karabiner.html">
  </a>

  <!-- Facebook (url) -->
  <a class="fa fa-facebook-square" href="http://www.facebook.com/sharer/sharer.php?u=http://www.runarkristoffersen.com/hardware/2017/04/08/Karabiner.html">
  </a>

  <!-- StumbleUpon (url, title) -->
  <a class="fa fa-steam-square" href="http://www.stumbleupon.com/submit?url=http://www.runarkristoffersen.com/hardware/2017/04/08/Karabiner.html&title=Key-configuration">
  </a>

  <!-- Reddit (url, title) -->
  <a class="fa fa-reddit-square" href="http://reddit.com/submit?url=http://www.runarkristoffersen.com/hardware/2017/04/08/Karabiner.html&title=Key-configuration">
  </a>

  <!-- LinkedIn (url, title, summary, source url) -->
  <a class="fa fa-linkedin-square"  href="http://www.linkedin.com/shareArticle?url=http://www.runarkristoffersen.com/hardware/2017/04/08/Karabiner.html&title=Key-configuration&summary=%3Cp%3EThis+is+my+third+post+in+the+series+concerning+keyboards+and+increasing+the+productivity+with+them.+If+you+haven%E2%80%99t+read+the+others+yet%2C+here+are+some+links+to+them%3A%3C%2Fp%3E%0A%0A&source=http://www.runarkristoffersen.com">
  </a>
</div>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Runar Kristoffersen</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              Runar Kristoffersen
            
            </li>
            
            <li><a href="mailto:runartrollet@me.com">runartrollet@me.com</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/runartrollet"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">runartrollet</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/runartrollet"><span class="icon icon--twitter"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">runartrollet</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>A work-in-progress portfolio for Runar Kristoffersen, electrician by trade, computer- and sciencegeek by desire.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
